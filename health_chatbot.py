
import streamlit as st

# â–¶ ì§„ë‹¨ ë°ì´í„°
disease_data = [
    {
        "ì§ˆë³‘": "ê°ê¸°",
        "ì¦ìƒ": ["ê¸°ì¹¨", "ì½§ë¬¼", "ë‘í†µ", "ëª© ì•„í””"],
        "ì²´ì˜¨ì¡°ê±´": "36.5~37.5",
        "ì•½í’ˆ": ["ì—†ìŒ", "ìƒê°•ì°¨"],
        "í–‰ë™": "ë”°ëœ»í•œ ë¬¼ ë§ˆì‹œê¸°, ë³´ê±´ì‹¤ì—ì„œ íœ´ì‹"
    },
    {
        "ì§ˆë³‘": "ë…ê°",
        "ì¦ìƒ": ["ê³ ì—´", "ê¸°ì¹¨", "ë‘í†µ", "ê·¼ìœ¡í†µ", "ì˜¤í•œ"],
        "ì²´ì˜¨ì¡°ê±´": "38 ì´ìƒ",
        "ì•½í’ˆ": ["íƒ€ì´ë ˆë†€"],
        "í–‰ë™": "ì¡°í‡´, ë³‘ì› ë°©ë¬¸, íœ´ì‹, ì¶©ë¶„í•œ ìˆ˜ë¶„ ì„­ì·¨"
    },
    {
        "ì§ˆë³‘": "ì†Œí™”ë¶ˆëŸ‰",
        "ì¦ìƒ": ["ë³µí†µ", "ì†ì“°ë¦¼", "íŠ¸ë¦¼", "ë°°ë¶€ë¦„"],
        "ì²´ì˜¨ì¡°ê±´": "ë¬´ê´€",
        "ì•½í’ˆ": ["ë² ì•„ì œ", "í›¼ìŠ¤íƒˆ"],
        "í–‰ë™": "ë¬¼ ì„­ì·¨, ì‹ì‚¬ëŸ‰ ì¡°ì ˆ, ì•ˆì •ì„ ì·¨í•˜ì„¸ìš”"
    },
    {
        "ì§ˆë³‘": "ìŠ¤íŠ¸ë ˆìŠ¤ì„± ë‘í†µ",
        "ì¦ìƒ": ["ë¨¸ë¦¬ ì•„í””", "ì§‘ì¤‘ë ¥ ì €í•˜", "í”¼ë¡œê°"],
        "ì²´ì˜¨ì¡°ê±´": "ë¬´ê´€",
        "ì•½í’ˆ": ["ì§„í†µì œ(ì´ë¶€í”„ë¡œíŽœ)"],
        "í–‰ë™": "ì¡°ìš©í•œ ê³³ì—ì„œ íœ´ì‹, ìˆ˜ë©´ ê¶Œìž¥"
    },
    {
        "ì§ˆë³‘": "ìƒë¦¬í†µ",
        "ì¦ìƒ": ["ì•„ëž«ë°° í†µì¦", "í”¼ë¡œê°", "í—ˆë¦¬ í†µì¦"],
        "ì²´ì˜¨ì¡°ê±´": "ë¬´ê´€",
        "ì•½í’ˆ": ["ì´ë¸Œ(ì§„í†µì œ)"],
        "í–‰ë™": "ë”°ëœ»í•œ ë¬¼ ë§ˆì‹œê¸°, ë³´ì˜¨, íœ´ì‹"
    },
    {
        "ì§ˆë³‘": "ì•Œë ˆë¥´ê¸°ì„± ë¹„ì—¼",
        "ì¦ìƒ": ["ì½§ë¬¼", "ìž¬ì±„ê¸°", "ëˆˆ ê°€ë ¤ì›€"],
        "ì²´ì˜¨ì¡°ê±´": "ë¬´ê´€",
        "ì•½í’ˆ": ["í•­ížˆìŠ¤íƒ€ë¯¼ì œ(ì§€ë¥´í…)"],
        "í–‰ë™": "ë§ˆìŠ¤í¬ ì°©ìš©, ìžê·¹ì› í”¼í•˜ê¸°"
    },
    {
        "ì§ˆë³‘": "ìž¥ì—¼",
        "ì¦ìƒ": ["ì„¤ì‚¬", "ë³µí†µ", "êµ¬í† ", "ë©”ìŠ¤êº¼ì›€"],
        "ì²´ì˜¨ì¡°ê±´": "ë¯¸ì—´ ë˜ëŠ” ì •ìƒ",
        "ì•½í’ˆ": ["ì§€ì‚¬ì œ", "ìˆ˜ë¶„ ë³´ì¶©ì œ"],
        "í–‰ë™": "ìˆ˜ë¶„ ì„­ì·¨, ìŒì‹ ì¤‘ë‹¨, ë³‘ì› ë°©ë¬¸"
    },
    {
        "ì§ˆë³‘": "íƒˆìˆ˜ì¦ìƒ",
        "ì¦ìƒ": ["ì–´ì§€ëŸ¬ì›€", "ìž… ë§ˆë¦„", "í”¼ë¡œê°"],
        "ì²´ì˜¨ì¡°ê±´": "ë¬´ê´€",
        "ì•½í’ˆ": ["ìˆ˜ë¶„ ë³´ì¶©ìš© ì´ì˜¨ìŒë£Œ"],
        "í–‰ë™": "ë¬¼ ìžì£¼ ë§ˆì‹œê¸°, ë³´ê±´ì‹¤ ë°©ë¬¸"
    },
    {
        "ì§ˆë³‘": "ê·¼ìœ¡í†µ",
        "ì¦ìƒ": ["í†µì¦", "ë»£ë»£í•¨"],
        "ì²´ì˜¨ì¡°ê±´": "ì •ìƒ",
        "ì•½í’ˆ": ["íŒŒìŠ¤", "ê·¼ìœ¡ì´ì™„ì œ"],
        "í–‰ë™": "ìŠ¤íŠ¸ë ˆì¹­, ì˜¨ì°œì§ˆ, ë¬´ë¦¬í•œ ìš´ë™ í”¼í•˜ê¸°"
    },
    {
        "ì§ˆë³‘": "ê²°ë§‰ì—¼",
        "ì¦ìƒ": ["ëˆˆ ì¶©í˜ˆ", "ëˆˆê³±", "ê°€ë ¤ì›€"],
        "ì²´ì˜¨ì¡°ê±´": "ë¬´ê´€",
        "ì•½í’ˆ": ["í•­ìƒì œ ì•ˆì•½"],
        "í–‰ë™": "ì† ì”»ê¸°, ëˆˆ ë¹„ë¹„ì§€ ì•Šê¸°, ë³‘ì› ë°©ë¬¸"
    },
    {
        "ì§ˆë³‘": "íƒ€ë°•ìƒ",
        "ì¦ìƒ": ["ë©", "ë¶“ê¸°", "ì•„í”ˆ ë¶€ìœ„ ëˆŒë¦¼"],
        "ì²´ì˜¨ì¡°ê±´": "ì •ìƒ",
        "ì•½í’ˆ": ["ì•„ì´ìŠ¤íŒ©", "íŒŒìŠ¤"],
        "í–‰ë™": "ë¶€ìœ„ë¥¼ ì°¨ê°‘ê²Œ ì°œì§ˆí•˜ê³  ì›€ì§ìž„ ìµœì†Œí™”"
    },
    {
        "ì§ˆë³‘": "ì°°ê³¼ìƒ",
        "ì¦ìƒ": ["í”¼ë¶€ ë²—ê²¨ì§", "í”¼", "ë”°ê°€ì›€"],
        "ì²´ì˜¨ì¡°ê±´": "ì •ìƒ",
        "ì•½í’ˆ": ["ì†Œë…ì•½", "ë°´ë“œ"],
        "í–‰ë™": "íë¥´ëŠ” ë¬¼ì— ì„¸ì²™ í›„ ì†Œë…, ë°´ë“œ ë¶€ì°©"
    },
    {
        "ì§ˆë³‘": "ì—¼ì¢Œ",
        "ì¦ìƒ": ["ê´€ì ˆ í†µì¦", "ë¶“ê¸°"],
        "ì²´ì˜¨ì¡°ê±´": "ì •ìƒ",
        "ì•½í’ˆ": ["ëƒ‰ì°œì§ˆ", "íŒŒìŠ¤"],
        "í–‰ë™": "í•´ë‹¹ ë¶€ìœ„ ê³ ì • í›„ ì°œì§ˆ, ë³´ê±´ì‹¤ ë°©ë¬¸"
    },
    {
        "ì§ˆë³‘": "ì ˆìƒ",
        "ì¦ìƒ": ["ì¶œí˜ˆ", "í†µì¦", "ìƒì²˜"],
        "ì²´ì˜¨ì¡°ê±´": "ì •ìƒ",
        "ì•½í’ˆ": ["ì†Œë…ì•½", "ê±°ì¦ˆ", "ë¶•ëŒ€"],
        "í–‰ë™": "ìƒì²˜ ì••ë°• ì§€í˜ˆ í›„ ì†Œë…, ë³´ê±´ì‹¤ ë°©ë¬¸"
    },
    {
        "ì§ˆë³‘": "ë„˜ì–´ì§/ë¯¸ë„ëŸ¬ì§",
        "ì¦ìƒ": ["ë¬´ë¦Ž ì°°ê³¼ìƒ", "íƒ€ë°•ìƒ", "í†µì¦"],
        "ì²´ì˜¨ì¡°ê±´": "ì •ìƒ",
        "ì•½í’ˆ": ["ì†Œë…ì•½", "ë°´ë“œ", "íŒŒìŠ¤"],
        "í–‰ë™": "ì†ìƒ ë¶€ìœ„ í™•ì¸ í›„ í•„ìš”ì‹œ ë³´ê±´ì‹¤ ë°©ë¬¸"
    },
    {
        "ì§ˆë³‘": "ì´ë¬¼ì§ˆ ëˆˆì— ë“¤ì–´ê°",
        "ì¦ìƒ": ["ëˆˆ í†µì¦", "ì´ë¬¼ê°", "ëˆˆë¬¼ í˜ë¦¼"],
        "ì²´ì˜¨ì¡°ê±´": "ì •ìƒ",
        "ì•½í’ˆ": ["ì¸ê³µëˆˆë¬¼"],
        "í–‰ë™": "ë¬¸ì§€ë¥´ì§€ ë§ê³  íë¥´ëŠ” ë¬¼ë¡œ ì„¸ì²™, ë³´ê±´ì‹¤ ì¦‰ì‹œ ë°©ë¬¸"
    }
]

# â–¶ ì§„ë‹¨ ë¡œì§
def match_temp_condition(ì¡°ê±´, ì²´ì˜¨):
    if "ì´ìƒ" in ì¡°ê±´:
        ê¸°ì¤€ = float(''.join(filter(str.isdigit, ì¡°ê±´)))
        return ì²´ì˜¨ >= ê¸°ì¤€
    elif "~" in ì¡°ê±´:
        low, high = map(float, ì¡°ê±´.replace("â„ƒ", "").split("~"))
        return low <= ì²´ì˜¨ <= high
    elif "ì •ìƒ" in ì¡°ê±´:
        return 36.0 <= ì²´ì˜¨ <= 37.5
    elif "ë¯¸ì—´" in ì¡°ê±´:
        return 37.0 <= ì²´ì˜¨ < 38.0
    elif "ë¬´ê´€" in ì¡°ê±´ or "ê´€ê³„ ì—†ìŒ" in ì¡°ê±´:
        return True
    return True

def diagnose(ì²´ì˜¨, ì¦ìƒìž…ë ¥):
    for í•­ëª© in disease_data:
        if match_temp_condition(í•­ëª©["ì²´ì˜¨ì¡°ê±´"], ì²´ì˜¨):
            if any(ì¦ìƒ in ì¦ìƒìž…ë ¥ for ì¦ìƒ in í•­ëª©["ì¦ìƒ"]):
                return í•­ëª©
    return {"ì§ˆë³‘": "ì•Œ ìˆ˜ ì—†ìŒ", "ì•½í’ˆ": [], "í–‰ë™": "ë³´ê±´ì‹¤ì— ë°©ë¬¸í•˜ì—¬ ìƒë‹´ì„ ë°›ìœ¼ì„¸ìš”."}

# â–¶ Streamlit UI
st.title("ðŸ« í•™êµ ê±´ê°• ì§„ë‹¨ ì±—ë´‡")
st.markdown("í•™ìƒì˜ ì¦ìƒê³¼ ì²´ì˜¨ì„ ìž…ë ¥í•˜ë©´, ê°€ëŠ¥í•œ ì§ˆë³‘ê³¼ í–‰ë™ì„ ì•ˆë‚´í•´ì¤ë‹ˆë‹¤.")

temp = st.slider("ðŸŒ¡ï¸ ì²´ì˜¨ì„ ì„ íƒí•˜ì„¸ìš”", 35.0, 41.0, 36.8, 0.1)
symptoms = st.text_input("ðŸ¤’ ì¦ìƒì„ ìž…ë ¥í•˜ì„¸ìš” (ì‰¼í‘œë¡œ êµ¬ë¶„)", "")

if st.button("ì§„ë‹¨í•˜ê¸°"):
    result = diagnose(temp, symptoms)
    st.subheader("ðŸ” ì§„ë‹¨ ê²°ê³¼")
    st.write(f"**â€¢ ì§ˆë³‘:** {result['ì§ˆë³‘']}")
    st.write(f"**â€¢ ì¶”ì²œ ì•½í’ˆ:** {', '.join(result['ì•½í’ˆ']) if result['ì•½í’ˆ'] else 'ì—†ìŒ'}")
    st.write(f"**â€¢ ì¶”ì²œ í–‰ë™:** {result['í–‰ë™']}")
